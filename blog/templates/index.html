{% extends "base.html" %}
{% block title %}The Wallflower - Home{% endblock %}
{% block content %}

{% if fill_author_details %}

<div class="alert alert-danger" role="alert">

    <center style="font-size:13px;"> Hi {{ user }} ! Welcome. Your account is not activated. Click <a
            href="{% url 'activate-account' %}">here</a>
        to activate. Please note that most of the features will remain disabled until you activate your account.
    </center>
</div>
{% endif %}


{% if user.is_authenticated %}
<div class="container">

    <div class="row">

        <!-- Blog Entries Column -->
        <div class="col-md-8">

            <h1 class="my-4">Trending
                <small>
                    <svg style="color:red;" class="bi bi-lightning" width="1em" height="1em" viewBox="0 0 16 16"
                         fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M11.251.068a.5.5 0 01.227.58L9.677 6.5H13a.5.5 0 01.364.843l-8 8.5a.5.5 0 01-.842-.49L6.323 9.5H3a.5.5 0 01-.364-.843l8-8.5a.5.5 0 01.615-.09zM4.157 8.5H7a.5.5 0 01.478.647L6.11 13.59l5.732-6.09H9a.5.5 0 01-.478-.647L9.89 2.41 4.157 8.5z"
                              clip-rule="evenodd"/>
                    </svg>
                </small>
            </h1>

            {% for post in post_views %}
            <div class="card mb-4">
                <img class="card-img-top" src="http://placehold.it/750x300" alt="Card image cap">
                <div class="card-body">
                    <h2 class="card-title">{{ post.title }}</h2>
                    <p class="card-text">{{ post.summary }}</p>
                    <a href="{% url 'post-detail' post.slug %}" class="btn btn-sm">Continue reading...	&#x1f56e;</a>
                </div>
                <div class="card-footer text-muted">
                    Posted on {{ post.created_at }} by
                    <a href="">{{ post.author }}</a>
                </div>
            </div>
            {% endfor %}

            <hr>
            <h1 class="my-4">Picks for you
                <small>
                    <svg style="color:#ffe600;" class="bi bi-star-fill" width="1em" height="1em" viewBox="0 0 16 16"
                         fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>
                </small>
            </h1>

            {% for post in post_likes %}
            <div class="card mb-4">
                <img class="card-img-top" src="http://placehold.it/750x300" alt="Card image cap">
                <div class="card-body">
                    <h2 class="card-title">{{ post.title }}</h2>
                    <p class="card-text">{{ post.summary }}</p>
                    <a href="{% url 'post-detail' post.slug %}" class="btn sm">Continue reading...	&#x1f56e;</a>
                </div>
                <div class="card-footer text-muted">
                    Posted on {{ post.created_at }} by
                    <a href="#">{{ post.author }}</a>
                </div>
            </div>
            {% endfor %}


            <!-- Pagination -->
            <ul class="pagination justify-content-center mb-4">
                <li class="page-item">
                    <a class="page-link" href="#">&larr; Older</a>
                </li>
                <li class="page-item disabled">
                    <a class="page-link" href="#">Newer &rarr;</a>
                </li>
            </ul>

        </div>

        <!-- Sidebar Widgets Column -->
        <div class="col-md-4">

            <!-- Search Widget -->
            <div class="card my-4">
                <h5 class="card-header">Search</h5>
                <div class="card-body">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search for...">
                        <span class="input-group-btn">
                <button class="btn btn-secondary" type="button">Go!</button>
              </span>
                    </div>
                </div>
            </div>

            <!-- Categories Widget -->
            <div class="card my-4">
                <h5 class="card-header">Categories</h5>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <ul class="list-unstyled mb-0">
                                <li>
                                    <a href="#">Web Design</a>
                                </li>
                                <li>
                                    <a href="#">HTML</a>
                                </li>
                                <li>
                                    <a href="#">Freebies</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-lg-6">
                            <ul class="list-unstyled mb-0">
                                <li>
                                    <a href="#">JavaScript</a>
                                </li>
                                <li>
                                    <a href="#">CSS</a>
                                </li>
                                <li>
                                    <a href="#">Tutorials</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Side Widget -->
            <div class="card my-4">
                <h5 class="card-header">Side Widget</h5>
                <div class="card-body">
                    You can put anything you want inside of these side widgets. They are easy to use, and feature the
                    new Bootstrap 4 card containers!
                </div>
            </div>

        </div>

    </div>
    <!-- /.row -->

</div>

{% else %}

<h3>Login</h3>
<br>
{% if form.errors %}
{% for field in form %}
{% for error in field.errors %}
<div class="alert alert-danger">
    <strong>{{ error|escape }}</strong>
</div>
{% endfor %}
{% endfor %}
{% for error in form.non_field_errors %}
<div class="alert alert-danger">
    <strong>{{ error|escape }}</strong>
</div>
{% endfor %}
{% endif %}
<form method="post" action="{% url 'login' %}">
    {% csrf_token %}
    <div class="form-row align-items-center">
        <div class="col-auto">
            <label class="sr-only" for="inlineFormInput">Username</label>
            <input type="text" class="form-control mb-2" id="inlineFormInput" name="username" placeholder="username"
                   required>
        </div>
        <div class="col-auto">
            <label class="sr-only" for="inlineFormInput">Username</label>
            <input type="password" class="form-control mb-2" id="inlineFormInputPassword" name="password"
                   placeholder="password" required>
        </div>
        <div class="col-auto">
            <button type="submit" name="submit" class="btn btn-primary mb-2">Login</button>
        </div>
    </div>
</form>
<br>
<p>New user? <a href="{% url 'signup'%}">Signup.</a></p>

{% endif %}

{% endblock %}